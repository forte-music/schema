# A query which queries for all information about the first 10 items in a
# playlist. Links go along the following path:
#
#   Playlist -> PlaylistItem -> Song -> (Album, Artist, Stats)

query TestPlaylist {
  playlist(id: "playlist:1") {
    ...PlaylistFields

    items(input: { limit: 10 }) {
      edges {
        node {
          ...PlaylistItemFields
          song {
            ...SongFields

            album {
              ...AlbumFields
            }

            artists {
              ...ArtistFields
            }

            stats {
              ...StatsFields
            }
          }
        }
      }
    }
  }
}

fragment PlaylistFields on Playlist {
  id
  name
  duration
}

fragment PlaylistItemFields on PlaylistItem {
  id
}

fragment SongFields on Song {
  id
  streamUrl
  trackNumber
  diskNumber
  name
}

fragment AlbumFields on Album {
  id
  artworkUrl
  name
  duration
  releaseYear
}

fragment ArtistFields on Artist {
  id
  name
}

fragment StatsFields on SongUserStats {
  id
  playCount
  lastPlayed
  liked
}
